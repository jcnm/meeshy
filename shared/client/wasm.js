
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
// biome-ignore-all lint: generated file

Object.defineProperty(exports, "__esModule", { value: true });

const {
  PrismaClientKnownRequestError,
  PrismaClientUnknownRequestError,
  PrismaClientRustPanicError,
  PrismaClientInitializationError,
  PrismaClientValidationError,
  getPrismaClient,
  sqltag,
  empty,
  join,
  raw,
  skip,
  Decimal,
  Debug,
  objectEnumValues,
  makeStrictEnum,
  Extensions,
  warnOnce,
  defineDmmfProperty,
  Public,
  getRuntime,
  createParam,
} = require('./runtime/wasm-engine-edge.js')


const Prisma = {}

exports.Prisma = Prisma
exports.$Enums = {}

/**
 * Prisma Client JS version: 6.19.0
 * Query Engine version: 2ba551f319ab1df4bc874a89965d8b3641056773
 */
Prisma.prismaVersion = {
  client: "6.19.0",
  engine: "2ba551f319ab1df4bc874a89965d8b3641056773"
}

Prisma.PrismaClientKnownRequestError = PrismaClientKnownRequestError;
Prisma.PrismaClientUnknownRequestError = PrismaClientUnknownRequestError
Prisma.PrismaClientRustPanicError = PrismaClientRustPanicError
Prisma.PrismaClientInitializationError = PrismaClientInitializationError
Prisma.PrismaClientValidationError = PrismaClientValidationError
Prisma.Decimal = Decimal

/**
 * Re-export of sql-template-tag
 */
Prisma.sql = sqltag
Prisma.empty = empty
Prisma.join = join
Prisma.raw = raw
Prisma.validator = Public.validator

/**
* Extensions
*/
Prisma.getExtensionContext = Extensions.getExtensionContext
Prisma.defineExtension = Extensions.defineExtension

/**
 * Shorthand utilities for JSON filtering
 */
Prisma.DbNull = objectEnumValues.instances.DbNull
Prisma.JsonNull = objectEnumValues.instances.JsonNull
Prisma.AnyNull = objectEnumValues.instances.AnyNull

Prisma.NullTypes = {
  DbNull: objectEnumValues.classes.DbNull,
  JsonNull: objectEnumValues.classes.JsonNull,
  AnyNull: objectEnumValues.classes.AnyNull
}





/**
 * Enums
 */
exports.Prisma.UserScalarFieldEnum = {
  id: 'id',
  username: 'username',
  firstName: 'firstName',
  lastName: 'lastName',
  bio: 'bio',
  email: 'email',
  phoneNumber: 'phoneNumber',
  password: 'password',
  displayName: 'displayName',
  avatar: 'avatar',
  isOnline: 'isOnline',
  lastSeen: 'lastSeen',
  lastActiveAt: 'lastActiveAt',
  systemLanguage: 'systemLanguage',
  regionalLanguage: 'regionalLanguage',
  customDestinationLanguage: 'customDestinationLanguage',
  autoTranslateEnabled: 'autoTranslateEnabled',
  translateToSystemLanguage: 'translateToSystemLanguage',
  translateToRegionalLanguage: 'translateToRegionalLanguage',
  useCustomDestination: 'useCustomDestination',
  role: 'role',
  isActive: 'isActive',
  deactivatedAt: 'deactivatedAt',
  emailVerified: 'emailVerified',
  emailVerifiedAt: 'emailVerifiedAt',
  phoneVerified: 'phoneVerified',
  phoneVerifiedAt: 'phoneVerifiedAt',
  twoFactorEnabled: 'twoFactorEnabled',
  failedLoginAttempts: 'failedLoginAttempts',
  lockedUntil: 'lockedUntil',
  lastPasswordChange: 'lastPasswordChange',
  deletedAt: 'deletedAt',
  deletedBy: 'deletedBy',
  profileCompletionRate: 'profileCompletionRate',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ConversationScalarFieldEnum = {
  id: 'id',
  identifier: 'identifier',
  type: 'type',
  title: 'title',
  description: 'description',
  image: 'image',
  avatar: 'avatar',
  communityId: 'communityId',
  isActive: 'isActive',
  isArchived: 'isArchived',
  lastMessageAt: 'lastMessageAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ConversationMemberScalarFieldEnum = {
  id: 'id',
  conversationId: 'conversationId',
  userId: 'userId',
  role: 'role',
  canSendMessage: 'canSendMessage',
  canSendFiles: 'canSendFiles',
  canSendImages: 'canSendImages',
  canSendVideos: 'canSendVideos',
  canSendAudios: 'canSendAudios',
  canSendLocations: 'canSendLocations',
  canSendLinks: 'canSendLinks',
  joinedAt: 'joinedAt',
  leftAt: 'leftAt',
  isActive: 'isActive'
};

exports.Prisma.ConversationShareLinkScalarFieldEnum = {
  id: 'id',
  linkId: 'linkId',
  identifier: 'identifier',
  conversationId: 'conversationId',
  createdBy: 'createdBy',
  name: 'name',
  description: 'description',
  maxUses: 'maxUses',
  currentUses: 'currentUses',
  maxConcurrentUsers: 'maxConcurrentUsers',
  currentConcurrentUsers: 'currentConcurrentUsers',
  maxUniqueSessions: 'maxUniqueSessions',
  currentUniqueSessions: 'currentUniqueSessions',
  expiresAt: 'expiresAt',
  isActive: 'isActive',
  allowAnonymousMessages: 'allowAnonymousMessages',
  allowAnonymousFiles: 'allowAnonymousFiles',
  allowAnonymousImages: 'allowAnonymousImages',
  allowViewHistory: 'allowViewHistory',
  requireAccount: 'requireAccount',
  requireNickname: 'requireNickname',
  requireEmail: 'requireEmail',
  requireBirthday: 'requireBirthday',
  allowedCountries: 'allowedCountries',
  allowedLanguages: 'allowedLanguages',
  allowedIpRanges: 'allowedIpRanges',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AnonymousParticipantScalarFieldEnum = {
  id: 'id',
  conversationId: 'conversationId',
  shareLinkId: 'shareLinkId',
  firstName: 'firstName',
  lastName: 'lastName',
  username: 'username',
  email: 'email',
  birthday: 'birthday',
  sessionToken: 'sessionToken',
  ipAddress: 'ipAddress',
  country: 'country',
  language: 'language',
  deviceFingerprint: 'deviceFingerprint',
  isActive: 'isActive',
  isOnline: 'isOnline',
  lastActiveAt: 'lastActiveAt',
  canSendMessages: 'canSendMessages',
  canSendFiles: 'canSendFiles',
  canSendImages: 'canSendImages',
  joinedAt: 'joinedAt',
  lastSeenAt: 'lastSeenAt',
  leftAt: 'leftAt'
};

exports.Prisma.MessageScalarFieldEnum = {
  id: 'id',
  conversationId: 'conversationId',
  senderId: 'senderId',
  anonymousSenderId: 'anonymousSenderId',
  content: 'content',
  originalLanguage: 'originalLanguage',
  messageType: 'messageType',
  isEdited: 'isEdited',
  editedAt: 'editedAt',
  isDeleted: 'isDeleted',
  deletedAt: 'deletedAt',
  replyToId: 'replyToId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.MessageTranslationScalarFieldEnum = {
  id: 'id',
  messageId: 'messageId',
  sourceLanguage: 'sourceLanguage',
  targetLanguage: 'targetLanguage',
  translatedContent: 'translatedContent',
  translationModel: 'translationModel',
  cacheKey: 'cacheKey',
  confidenceScore: 'confidenceScore',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.MessageAttachmentScalarFieldEnum = {
  id: 'id',
  messageId: 'messageId',
  fileName: 'fileName',
  originalName: 'originalName',
  mimeType: 'mimeType',
  fileSize: 'fileSize',
  filePath: 'filePath',
  fileUrl: 'fileUrl',
  width: 'width',
  height: 'height',
  thumbnailPath: 'thumbnailPath',
  thumbnailUrl: 'thumbnailUrl',
  duration: 'duration',
  bitrate: 'bitrate',
  sampleRate: 'sampleRate',
  codec: 'codec',
  channels: 'channels',
  uploadedBy: 'uploadedBy',
  isAnonymous: 'isAnonymous',
  createdAt: 'createdAt',
  metadata: 'metadata'
};

exports.Prisma.MessageStatusScalarFieldEnum = {
  id: 'id',
  messageId: 'messageId',
  userId: 'userId',
  receivedAt: 'receivedAt',
  readAt: 'readAt',
  answer: 'answer'
};

exports.Prisma.ReactionScalarFieldEnum = {
  id: 'id',
  messageId: 'messageId',
  userId: 'userId',
  anonymousUserId: 'anonymousUserId',
  emoji: 'emoji',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.FriendRequestScalarFieldEnum = {
  id: 'id',
  senderId: 'senderId',
  receiverId: 'receiverId',
  status: 'status',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.TypingIndicatorScalarFieldEnum = {
  id: 'id',
  conversationId: 'conversationId',
  userId: 'userId',
  isTyping: 'isTyping',
  startedAt: 'startedAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.NotificationScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  type: 'type',
  title: 'title',
  content: 'content',
  data: 'data',
  priority: 'priority',
  isRead: 'isRead',
  emailSent: 'emailSent',
  pushSent: 'pushSent',
  expiresAt: 'expiresAt',
  createdAt: 'createdAt',
  senderId: 'senderId',
  senderUsername: 'senderUsername',
  senderAvatar: 'senderAvatar',
  messagePreview: 'messagePreview',
  conversationId: 'conversationId',
  messageId: 'messageId',
  callSessionId: 'callSessionId'
};

exports.Prisma.CommunityScalarFieldEnum = {
  id: 'id',
  identifier: 'identifier',
  name: 'name',
  description: 'description',
  avatar: 'avatar',
  isPrivate: 'isPrivate',
  createdBy: 'createdBy',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.CommunityMemberScalarFieldEnum = {
  id: 'id',
  communityId: 'communityId',
  userId: 'userId',
  joinedAt: 'joinedAt',
  role: 'role'
};

exports.Prisma.UserStatsScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  messagesSent: 'messagesSent',
  messagesReceived: 'messagesReceived',
  charactersTyped: 'charactersTyped',
  imageMessagesSent: 'imageMessagesSent',
  filesShared: 'filesShared',
  conversationsJoined: 'conversationsJoined',
  communitiesCreated: 'communitiesCreated',
  friendsAdded: 'friendsAdded',
  friendRequestsSent: 'friendRequestsSent',
  translationsUsed: 'translationsUsed',
  languagesDetected: 'languagesDetected',
  autoTranslateTimeMinutes: 'autoTranslateTimeMinutes',
  totalOnlineTimeMinutes: 'totalOnlineTimeMinutes',
  sessionCount: 'sessionCount',
  lastActiveAt: 'lastActiveAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.UserPreferenceScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  key: 'key',
  value: 'value',
  valueType: 'valueType',
  description: 'description',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ConversationPreferenceScalarFieldEnum = {
  id: 'id',
  conversationId: 'conversationId',
  userId: 'userId',
  key: 'key',
  value: 'value',
  valueType: 'valueType',
  description: 'description',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AffiliateTokenScalarFieldEnum = {
  id: 'id',
  token: 'token',
  name: 'name',
  createdBy: 'createdBy',
  maxUses: 'maxUses',
  currentUses: 'currentUses',
  expiresAt: 'expiresAt',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AffiliateRelationScalarFieldEnum = {
  id: 'id',
  affiliateTokenId: 'affiliateTokenId',
  affiliateUserId: 'affiliateUserId',
  referredUserId: 'referredUserId',
  status: 'status',
  createdAt: 'createdAt',
  completedAt: 'completedAt'
};

exports.Prisma.TrackingLinkScalarFieldEnum = {
  id: 'id',
  token: 'token',
  name: 'name',
  originalUrl: 'originalUrl',
  shortUrl: 'shortUrl',
  createdBy: 'createdBy',
  conversationId: 'conversationId',
  messageId: 'messageId',
  totalClicks: 'totalClicks',
  uniqueClicks: 'uniqueClicks',
  isActive: 'isActive',
  expiresAt: 'expiresAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  lastClickedAt: 'lastClickedAt'
};

exports.Prisma.TrackingLinkClickScalarFieldEnum = {
  id: 'id',
  trackingLinkId: 'trackingLinkId',
  userId: 'userId',
  anonymousId: 'anonymousId',
  ipAddress: 'ipAddress',
  country: 'country',
  city: 'city',
  region: 'region',
  userAgent: 'userAgent',
  browser: 'browser',
  os: 'os',
  device: 'device',
  language: 'language',
  referrer: 'referrer',
  deviceFingerprint: 'deviceFingerprint',
  clickedAt: 'clickedAt'
};

exports.Prisma.AdminAuditLogScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  adminId: 'adminId',
  action: 'action',
  entity: 'entity',
  entityId: 'entityId',
  changes: 'changes',
  metadata: 'metadata',
  ipAddress: 'ipAddress',
  userAgent: 'userAgent',
  createdAt: 'createdAt'
};

exports.Prisma.ReportScalarFieldEnum = {
  id: 'id',
  reportedType: 'reportedType',
  reportedEntityId: 'reportedEntityId',
  reporterId: 'reporterId',
  reporterName: 'reporterName',
  reportType: 'reportType',
  reason: 'reason',
  status: 'status',
  moderatorId: 'moderatorId',
  moderatorNotes: 'moderatorNotes',
  actionTaken: 'actionTaken',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  resolvedAt: 'resolvedAt'
};

exports.Prisma.CallSessionScalarFieldEnum = {
  id: 'id',
  conversationId: 'conversationId',
  mode: 'mode',
  status: 'status',
  initiatorId: 'initiatorId',
  startedAt: 'startedAt',
  answeredAt: 'answeredAt',
  endedAt: 'endedAt',
  duration: 'duration',
  metadata: 'metadata'
};

exports.Prisma.CallParticipantScalarFieldEnum = {
  id: 'id',
  callSessionId: 'callSessionId',
  userId: 'userId',
  anonymousId: 'anonymousId',
  role: 'role',
  joinedAt: 'joinedAt',
  leftAt: 'leftAt',
  isAudioEnabled: 'isAudioEnabled',
  isVideoEnabled: 'isVideoEnabled',
  connectionQuality: 'connectionQuality'
};

exports.Prisma.TranscriptionScalarFieldEnum = {
  id: 'id',
  callSessionId: 'callSessionId',
  participantId: 'participantId',
  source: 'source',
  text: 'text',
  language: 'language',
  confidence: 'confidence',
  timestamp: 'timestamp',
  offsetMs: 'offsetMs'
};

exports.Prisma.TranslationCallScalarFieldEnum = {
  id: 'id',
  transcriptionId: 'transcriptionId',
  targetLanguage: 'targetLanguage',
  translatedText: 'translatedText',
  confidence: 'confidence',
  model: 'model',
  cached: 'cached',
  createdAt: 'createdAt'
};

exports.Prisma.UserConversationPreferencesScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  conversationId: 'conversationId',
  isPinned: 'isPinned',
  isMuted: 'isMuted',
  isArchived: 'isArchived',
  tags: 'tags',
  categoryId: 'categoryId',
  orderInCategory: 'orderInCategory',
  customName: 'customName',
  reaction: 'reaction',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.UserConversationCategoryScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  name: 'name',
  color: 'color',
  icon: 'icon',
  order: 'order',
  isExpanded: 'isExpanded',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SortOrder = {
  asc: 'asc',
  desc: 'desc'
};

exports.Prisma.QueryMode = {
  default: 'default',
  insensitive: 'insensitive'
};
exports.CallMode = exports.$Enums.CallMode = {
  p2p: 'p2p',
  sfu: 'sfu'
};

exports.CallStatus = exports.$Enums.CallStatus = {
  initiated: 'initiated',
  ringing: 'ringing',
  active: 'active',
  ended: 'ended',
  missed: 'missed',
  rejected: 'rejected'
};

exports.ParticipantRole = exports.$Enums.ParticipantRole = {
  initiator: 'initiator',
  participant: 'participant'
};

exports.TranscriptionSource = exports.$Enums.TranscriptionSource = {
  client: 'client',
  server: 'server'
};

exports.Prisma.ModelName = {
  User: 'User',
  Conversation: 'Conversation',
  ConversationMember: 'ConversationMember',
  ConversationShareLink: 'ConversationShareLink',
  AnonymousParticipant: 'AnonymousParticipant',
  Message: 'Message',
  MessageTranslation: 'MessageTranslation',
  MessageAttachment: 'MessageAttachment',
  MessageStatus: 'MessageStatus',
  Reaction: 'Reaction',
  FriendRequest: 'FriendRequest',
  TypingIndicator: 'TypingIndicator',
  Notification: 'Notification',
  Community: 'Community',
  CommunityMember: 'CommunityMember',
  UserStats: 'UserStats',
  UserPreference: 'UserPreference',
  ConversationPreference: 'ConversationPreference',
  AffiliateToken: 'AffiliateToken',
  AffiliateRelation: 'AffiliateRelation',
  TrackingLink: 'TrackingLink',
  TrackingLinkClick: 'TrackingLinkClick',
  AdminAuditLog: 'AdminAuditLog',
  Report: 'Report',
  CallSession: 'CallSession',
  CallParticipant: 'CallParticipant',
  Transcription: 'Transcription',
  TranslationCall: 'TranslationCall',
  UserConversationPreferences: 'UserConversationPreferences',
  UserConversationCategory: 'UserConversationCategory'
};
/**
 * Create the Client
 */
const config = {
  "generator": {
    "name": "client",
    "provider": {
      "fromEnvVar": null,
      "value": "prisma-client-js"
    },
    "output": {
      "value": "/home/user/meeshy/shared/client",
      "fromEnvVar": null
    },
    "config": {
      "engineType": "library"
    },
    "binaryTargets": [
      {
        "fromEnvVar": null,
        "value": "debian-openssl-3.0.x",
        "native": true
      }
    ],
    "previewFeatures": [],
    "sourceFilePath": "/home/user/meeshy/shared/schema.prisma",
    "isCustomOutput": true
  },
  "relativeEnvPaths": {
    "rootEnvPath": null
  },
  "relativePath": "..",
  "clientVersion": "6.19.0",
  "engineVersion": "2ba551f319ab1df4bc874a89965d8b3641056773",
  "datasourceNames": [
    "db"
  ],
  "activeProvider": "mongodb",
  "postinstall": false,
  "inlineDatasources": {
    "db": {
      "url": {
        "fromEnvVar": "DATABASE_URL",
        "value": null
      }
    }
  },
  "inlineSchema": "generator client {\n  provider      = \"prisma-client-js\"\n  output        = \"./client\"\n  binaryTargets = [\"native\"]\n}\n\ndatasource db {\n  provider = \"mongodb\"\n  url      = env(\"DATABASE_URL\")\n}\n\n/// Utilisateur enregistr√© de la plateforme\nmodel User {\n  id                          String    @id @default(auto()) @map(\"_id\") @db.ObjectId\n  username                    String    @unique\n  firstName                   String\n  lastName                    String\n  bio                         String    @default(\"\")\n  email                       String    @unique\n  phoneNumber                 String?\n  password                    String\n  displayName                 String?\n  avatar                      String?\n  isOnline                    Boolean   @default(false)\n  lastSeen                    DateTime  @default(now())\n  lastActiveAt                DateTime  @default(now())\n  systemLanguage              String    @default(\"en\")\n  regionalLanguage            String    @default(\"fr\")\n  customDestinationLanguage   String?\n  autoTranslateEnabled        Boolean   @default(true)\n  translateToSystemLanguage   Boolean   @default(true)\n  translateToRegionalLanguage Boolean   @default(false)\n  useCustomDestination        Boolean   @default(false)\n  /// USER, ADMIN, MODO, AUDIT, ANALYST, BIGBOSS\n  role                        String    @default(\"USER\")\n  isActive                    Boolean   @default(true)\n  deactivatedAt               DateTime?\n\n  // Security & verification fields\n  emailVerified       Boolean?  @default(false)\n  emailVerifiedAt     DateTime?\n  phoneVerified       Boolean?  @default(false)\n  phoneVerifiedAt     DateTime?\n  twoFactorEnabled    Boolean?  @default(false)\n  failedLoginAttempts Int?      @default(0)\n  lockedUntil         DateTime?\n  lastPasswordChange  DateTime? @default(now())\n\n  // Soft delete fields\n  deletedAt DateTime?\n  deletedBy String?   @db.ObjectId\n\n  // Profile completion\n  profileCompletionRate Int? @default(0)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  createdCommunities      Community[]                   @relation(\"CommunityCreator\")\n  communityMemberships    CommunityMember[]\n  conversations           ConversationMember[]\n  conversationPreferences ConversationPreference[]\n  createdShareLinks       ConversationShareLink[]       @relation(\"ShareLinkCreator\")\n  receivedFriendRequests  FriendRequest[]               @relation(\"FriendRequestReceiver\")\n  sentFriendRequests      FriendRequest[]               @relation(\"FriendRequestSender\")\n  messageStatus           MessageStatus[]\n  sentMessages            Message[]                     @relation(\"MessageSender\")\n  reactions               Reaction[]                    @relation(\"UserReactions\")\n  notifications           Notification[]\n  typingIndicators        TypingIndicator[]\n  preferences             UserPreference[]\n  stats                   UserStats?\n  createdAffiliateTokens  AffiliateToken[]              @relation(\"AffiliateTokenCreator\")\n  affiliateRelations      AffiliateRelation[]           @relation(\"AffiliateUser\")\n  referredRelations       AffiliateRelation[]           @relation(\"ReferredUser\")\n  createdTrackingLinks    TrackingLink[]                @relation(\"TrackingLinkCreator\")\n  trackingLinkClicks      TrackingLinkClick[]           @relation(\"TrackingLinkClickUser\")\n  initiatedCalls          CallSession[]                 @relation(\"CallInitiator\")\n  callParticipations      CallParticipant[]             @relation(\"CallParticipants\")\n  conversationPrefs       UserConversationPreferences[]\n  conversationCategories  UserConversationCategory[]\n}\n\n/// Conversation entre utilisateurs (direct, group, public, global)\nmodel Conversation {\n  id            String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  /// Identifiant lisible par l'homme (ex: \"mee_meeshy\", \"general\", \"mee_support\")\n  identifier    String   @unique\n  /// direct, group, public, global\n  type          String\n  title         String?\n  description   String?\n  image         String?\n  avatar        String?\n  communityId   String?  @db.ObjectId\n  isActive      Boolean  @default(true)\n  isArchived    Boolean  @default(false)\n  lastMessageAt DateTime @default(now())\n  createdAt     DateTime @default(now())\n  updatedAt     DateTime @updatedAt\n\n  anonymousParticipants AnonymousParticipant[]\n  members               ConversationMember[]\n  preferences           ConversationPreference[]\n  shareLinks            ConversationShareLink[]\n  community             Community?                    @relation(fields: [communityId], references: [id])\n  messages              Message[]\n  typingIndicators      TypingIndicator[]\n  callSessions          CallSession[]\n  userPreferences       UserConversationPreferences[]\n}\n\n/// Appartenance d'un utilisateur √† une conversation\nmodel ConversationMember {\n  id               String    @id @default(auto()) @map(\"_id\") @db.ObjectId\n  conversationId   String    @db.ObjectId\n  userId           String    @db.ObjectId\n  /// admin, moderator, member\n  role             String    @default(\"member\")\n  canSendMessage   Boolean   @default(true)\n  canSendFiles     Boolean   @default(true)\n  canSendImages    Boolean   @default(true)\n  canSendVideos    Boolean   @default(true)\n  canSendAudios    Boolean   @default(true)\n  canSendLocations Boolean   @default(true)\n  canSendLinks     Boolean   @default(true)\n  joinedAt         DateTime  @default(now())\n  leftAt           DateTime?\n  isActive         Boolean   @default(true)\n\n  user         User         @relation(fields: [userId], references: [id])\n  conversation Conversation @relation(fields: [conversationId], references: [id])\n}\n\n/// Lien de partage pour acc√®s anonyme √† une conversation\nmodel ConversationShareLink {\n  id                     String    @id @default(auto()) @map(\"_id\") @db.ObjectId\n  linkId                 String    @unique\n  /// Identifiant lisible par l'homme (ex: \"mshy_meeshy-public\", \"mshy_support-link\")\n  identifier             String    @unique\n  conversationId         String    @db.ObjectId\n  createdBy              String    @db.ObjectId\n  name                   String?\n  description            String?\n  maxUses                Int?\n  currentUses            Int       @default(0)\n  maxConcurrentUsers     Int?\n  currentConcurrentUsers Int       @default(0)\n  maxUniqueSessions      Int?\n  currentUniqueSessions  Int       @default(0)\n  expiresAt              DateTime?\n  isActive               Boolean   @default(true)\n  allowAnonymousMessages Boolean   @default(true)\n  allowAnonymousFiles    Boolean   @default(false)\n  allowAnonymousImages   Boolean   @default(true)\n  allowViewHistory       Boolean   @default(true)\n  /// Si true, seuls les utilisateurs avec compte peuvent rejoindre (bloque l'acc√®s anonyme)\n  requireAccount         Boolean   @default(false)\n  requireNickname        Boolean   @default(true)\n  requireEmail           Boolean   @default(false)\n  /// Si true, demande la date de naissance pour v√©rifier l'√¢ge minimum\n  requireBirthday        Boolean   @default(false)\n  allowedCountries       String[]  @default([])\n  allowedLanguages       String[]  @default([])\n  allowedIpRanges        String[]  @default([])\n  createdAt              DateTime  @default(now())\n  updatedAt              DateTime  @updatedAt\n\n  anonymousParticipants AnonymousParticipant[] @relation(\"ShareLinkParticipants\")\n  creator               User                   @relation(\"ShareLinkCreator\", fields: [createdBy], references: [id])\n  conversation          Conversation           @relation(fields: [conversationId], references: [id])\n}\n\n/// Participant anonyme via lien de partage\nmodel AnonymousParticipant {\n  id                String    @id @default(auto()) @map(\"_id\") @db.ObjectId\n  conversationId    String    @db.ObjectId\n  shareLinkId       String    @db.ObjectId\n  firstName         String\n  lastName          String\n  username          String\n  email             String?\n  birthday          DateTime?\n  sessionToken      String    @unique\n  ipAddress         String?\n  country           String?\n  language          String    @default(\"fr\")\n  deviceFingerprint String?\n  isActive          Boolean   @default(true)\n  isOnline          Boolean   @default(false)\n  lastActiveAt      DateTime  @default(now())\n  canSendMessages   Boolean   @default(true)\n  canSendFiles      Boolean   @default(false)\n  canSendImages     Boolean   @default(true)\n  joinedAt          DateTime  @default(now())\n  lastSeenAt        DateTime  @default(now())\n  leftAt            DateTime?\n\n  shareLink          ConversationShareLink @relation(\"ShareLinkParticipants\", fields: [shareLinkId], references: [id])\n  conversation       Conversation          @relation(fields: [conversationId], references: [id])\n  sentMessages       Message[]             @relation(\"AnonymousMessageSender\")\n  reactions          Reaction[]            @relation(\"AnonymousReactions\")\n  trackingLinkClicks TrackingLinkClick[]   @relation(\"TrackingLinkClickAnonymous\")\n}\n\n/// Message dans une conversation\nmodel Message {\n  id                String    @id @default(auto()) @map(\"_id\") @db.ObjectId\n  conversationId    String    @db.ObjectId\n  senderId          String?   @db.ObjectId\n  anonymousSenderId String?   @db.ObjectId\n  content           String\n  originalLanguage  String    @default(\"fr\")\n  /// text, image, file, audio, video, location, system\n  messageType       String    @default(\"text\")\n  isEdited          Boolean   @default(false)\n  editedAt          DateTime?\n  isDeleted         Boolean   @default(false)\n  deletedAt         DateTime?\n  replyToId         String?   @db.ObjectId\n  createdAt         DateTime  @default(now())\n  updatedAt         DateTime  @updatedAt\n\n  status          MessageStatus[]       @relation(\"MessageStatusMessage\")\n  statusResponses MessageStatus[]       @relation(\"MessageStatusResponse\")\n  translations    MessageTranslation[]\n  attachments     MessageAttachment[]\n  reactions       Reaction[]            @relation(\"MessageReactions\")\n  replyTo         Message?              @relation(\"MessageReplies\", fields: [replyToId], references: [id], onDelete: NoAction, onUpdate: NoAction)\n  replies         Message[]             @relation(\"MessageReplies\")\n  anonymousSender AnonymousParticipant? @relation(\"AnonymousMessageSender\", fields: [anonymousSenderId], references: [id])\n  sender          User?                 @relation(\"MessageSender\", fields: [senderId], references: [id])\n  conversation    Conversation          @relation(fields: [conversationId], references: [id])\n}\n\n/// Traduction d'un message\nmodel MessageTranslation {\n  id                String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  messageId         String   @db.ObjectId\n  sourceLanguage    String\n  targetLanguage    String\n  translatedContent String\n  translationModel  String // \"basic\", \"medium\", \"premium\"\n  cacheKey          String   @unique\n  confidenceScore   Float?\n  createdAt         DateTime @default(now())\n  updatedAt         DateTime @updatedAt\n\n  message Message @relation(fields: [messageId], references: [id], onDelete: NoAction, onUpdate: NoAction)\n\n  // Contrainte d'unicit√©: une seule traduction par message et langue cible\n  // Permet de mettre √† jour la traduction existante vers un niveau sup√©rieur\n  @@unique([messageId, targetLanguage], name: \"messageId_targetLanguage\")\n  @@index([messageId])\n  @@index([targetLanguage])\n  @@index([translationModel])\n}\n\n/// Attachement de fichier pour un message\nmodel MessageAttachment {\n  id           String @id @default(auto()) @map(\"_id\") @db.ObjectId\n  messageId    String @db.ObjectId\n  fileName     String // Nom de fichier g√©n√©r√© (unique)\n  originalName String // Nom original du fichier\n  mimeType     String // Type MIME (image/jpeg, application/pdf, etc.)\n  fileSize     Int // Taille en bytes\n  filePath     String // Chemin relatif: attachments/YYYY/mm/userId/filename\n  fileUrl      String // URL compl√®te pour acc√®s\n\n  // M√©tadonn√©es sp√©cifiques aux images\n  width         Int?\n  height        Int?\n  thumbnailPath String? // Miniature g√©n√©r√©e pour images\n  thumbnailUrl  String?\n\n  // M√©tadonn√©es sp√©cifiques audio/vid√©o\n  duration   Int? // Dur√©e en secondes\n  bitrate    Int? // D√©bit en bps (bits per second)\n  sampleRate Int? // Fr√©quence d'√©chantillonnage en Hz (ex: 44100, 48000)\n  codec      String? // Codec audio/vid√©o (ex: \"opus\", \"aac\", \"vorbis\", \"h264\")\n  channels   Int? // Nombre de canaux audio (1: mono, 2: stereo)\n\n  // M√©tadonn√©es g√©n√©rales\n  uploadedBy  String  @db.ObjectId // ID utilisateur ou anonyme\n  isAnonymous Boolean @default(false)\n\n  createdAt DateTime @default(now())\n  /// Attachment metadata\n  metadata  Json? // JSON blob for additional metadata\n\n  message Message @relation(fields: [messageId], references: [id], onDelete: Cascade)\n\n  @@index([messageId])\n  @@index([uploadedBy])\n}\n\n/// Statut de reception, lecture ou r√©ponse d'un message par un utilisateur\nmodel MessageStatus {\n  id         String    @id @default(auto()) @map(\"_id\") @db.ObjectId\n  messageId  String    @db.ObjectId\n  userId     String    @db.ObjectId\n  receivedAt DateTime? /// Quand le message a √©t√© re√ßu par l'utilisateur\n  readAt     DateTime? /// Quand le message a √©t√© lu par l'utilisateur\n  answer     String?   @db.ObjectId /// Last answer to the message by the user\n  user       User      @relation(fields: [userId], references: [id])\n  message    Message   @relation(\"MessageStatusMessage\", fields: [messageId], references: [id], onDelete: NoAction, onUpdate: NoAction)\n  response   Message?  @relation(\"MessageStatusResponse\", fields: [answer], references: [id], onDelete: NoAction, onUpdate: NoAction)\n\n  @@unique([messageId, userId], name: \"messageId_userId\")\n}\n\n/// R√©action emoji sur un message par un utilisateur\nmodel Reaction {\n  id              String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  messageId       String   @db.ObjectId\n  userId          String?  @db.ObjectId // null pour utilisateurs anonymes\n  anonymousUserId String?  @db.ObjectId // ID de l'utilisateur anonyme\n  emoji           String // Emoji libre (ex: üéâ, ‚ù§Ô∏è, üî•, ‚≠ê)\n  createdAt       DateTime @default(now())\n  updatedAt       DateTime @updatedAt\n\n  message       Message               @relation(\"MessageReactions\", fields: [messageId], references: [id], onDelete: Cascade)\n  user          User?                 @relation(\"UserReactions\", fields: [userId], references: [id], onDelete: Cascade)\n  anonymousUser AnonymousParticipant? @relation(\"AnonymousReactions\", fields: [anonymousUserId], references: [id], onDelete: Cascade)\n\n  // Contrainte: un utilisateur ne peut ajouter le m√™me emoji qu'une seule fois par message\n  @@unique([messageId, userId, emoji], name: \"user_reaction_unique\")\n  // Contrainte: un utilisateur anonyme ne peut ajouter le m√™me emoji qu'une seule fois par message\n  @@unique([messageId, anonymousUserId, emoji], name: \"anonymous_reaction_unique\")\n  @@index([messageId])\n  @@index([userId])\n  @@index([anonymousUserId])\n  @@index([emoji])\n}\n\n/// Demande d'amiti√© entre utilisateurs\nmodel FriendRequest {\n  id         String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  senderId   String   @db.ObjectId\n  receiverId String   @db.ObjectId\n  /// pending, accepted, rejected, blocked\n  status     String   @default(\"pending\")\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n\n  receiver User @relation(\"FriendRequestReceiver\", fields: [receiverId], references: [id])\n  sender   User @relation(\"FriendRequestSender\", fields: [senderId], references: [id])\n}\n\n/// Indicateur de frappe en cours pour des tests... A supprimer apr√®s les tests\nmodel TypingIndicator {\n  id             String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  conversationId String   @db.ObjectId\n  userId         String   @db.ObjectId\n  isTyping       Boolean  @default(true)\n  startedAt      DateTime @default(now())\n  updatedAt      DateTime @updatedAt\n\n  user         User         @relation(fields: [userId], references: [id])\n  conversation Conversation @relation(fields: [conversationId], references: [id])\n}\n\n/// Notification pour un utilisateur\nmodel Notification {\n  id        String    @id @default(auto()) @map(\"_id\") @db.ObjectId\n  userId    String    @db.ObjectId\n  /// new_conversation, new_message, message_edited, friend_request, missed_call, etc.\n  type      String\n  title     String\n  content   String\n  data      String?\n  priority  String    @default(\"normal\")\n  isRead    Boolean   @default(false)\n  emailSent Boolean   @default(false)\n  pushSent  Boolean   @default(false)\n  expiresAt DateTime?\n  createdAt DateTime  @default(now())\n\n  /// Informations de l'exp√©diteur (pour les notifications de messages/appels)\n  senderId       String? @db.ObjectId\n  senderUsername String?\n  senderAvatar   String?\n\n  /// Aper√ßu du message (tronqu√© √† 32 caract√®res)\n  messagePreview String?\n\n  /// R√©f√©rences pour navigation\n  conversationId String? @db.ObjectId\n  messageId      String? @db.ObjectId\n  callSessionId  String? @db.ObjectId\n\n  user User @relation(fields: [userId], references: [id])\n\n  @@index([userId, isRead])\n  @@index([userId, type])\n  @@index([createdAt])\n}\n\n/// Communaut√© (repr√©sente une communaut√© de conversation)\nmodel Community {\n  id          String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  /// Identifiant lisible par l'homme (ex: \"mshy_meeshy-paris\", \"mshy_support-lycee-njanda\")\n  identifier  String   @unique\n  name        String\n  description String?\n  avatar      String?\n  isPrivate   Boolean  @default(true)\n  createdBy   String   @db.ObjectId\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n\n  members      CommunityMember[]\n  creator      User              @relation(\"CommunityCreator\", fields: [createdBy], references: [id])\n  Conversation Conversation[]\n}\n\n/// Appartenance aux communaut√©s \nmodel CommunityMember {\n  id          String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  communityId String   @db.ObjectId\n  userId      String   @db.ObjectId\n  joinedAt    DateTime @default(now())\n  /// admin, moderator, member\n  role        String   @default(\"member\")\n\n  user      User      @relation(fields: [userId], references: [id])\n  community Community @relation(fields: [communityId], references: [id])\n}\n\n/// Statistiques d'utilisation d'un utilisateur\nmodel UserStats {\n  id                       String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  userId                   String   @unique @db.ObjectId\n  messagesSent             Int      @default(0)\n  messagesReceived         Int      @default(0)\n  charactersTyped          Int      @default(0)\n  imageMessagesSent        Int      @default(0)\n  filesShared              Int      @default(0)\n  conversationsJoined      Int      @default(0)\n  communitiesCreated       Int      @default(0)\n  friendsAdded             Int      @default(0)\n  friendRequestsSent       Int      @default(0)\n  translationsUsed         Int      @default(0)\n  languagesDetected        Int      @default(0)\n  autoTranslateTimeMinutes Int      @default(0)\n  totalOnlineTimeMinutes   Int      @default(0)\n  sessionCount             Int      @default(0)\n  lastActiveAt             DateTime @default(now())\n  createdAt                DateTime @default(now())\n  updatedAt                DateTime @updatedAt\n\n  user User @relation(fields: [userId], references: [id])\n}\n\n/// Pr√©f√©rence utilisateur g√©n√©rale\nmodel UserPreference {\n  id          String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  userId      String   @db.ObjectId\n  key         String\n  value       String\n  valueType   String   @default(\"string\")\n  description String?\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n\n  user User @relation(fields: [userId], references: [id])\n}\n\n/// Pr√©f√©rence sp√©cifique √† une conversation\nmodel ConversationPreference {\n  id             String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  conversationId String   @db.ObjectId\n  userId         String   @db.ObjectId\n  key            String\n  value          String\n  valueType      String   @default(\"string\")\n  description    String?\n  createdAt      DateTime @default(now())\n  updatedAt      DateTime @updatedAt\n\n  user         User         @relation(fields: [userId], references: [id])\n  conversation Conversation @relation(fields: [conversationId], references: [id])\n}\n\n/// Token d'affiliation pour inviter des utilisateurs\nmodel AffiliateToken {\n  id          String    @id @default(auto()) @map(\"_id\") @db.ObjectId\n  token       String    @unique\n  name        String // Nom de la campagne d'affiliation\n  createdBy   String    @db.ObjectId\n  maxUses     Int? // Limite d'utilisation (null = illimit√©)\n  currentUses Int       @default(0)\n  expiresAt   DateTime? // Date d'expiration (null = pas d'expiration)\n  isActive    Boolean   @default(true)\n  createdAt   DateTime  @default(now())\n  updatedAt   DateTime  @updatedAt\n\n  creator      User                @relation(\"AffiliateTokenCreator\", fields: [createdBy], references: [id])\n  affiliations AffiliateRelation[]\n}\n\n/// Relation d'affiliation entre utilisateurs\nmodel AffiliateRelation {\n  id               String    @id @default(auto()) @map(\"_id\") @db.ObjectId\n  affiliateTokenId String    @db.ObjectId\n  affiliateUserId  String    @db.ObjectId // Utilisateur qui a invit√©\n  referredUserId   String    @db.ObjectId // Utilisateur invit√©\n  status           String    @default(\"pending\") // pending, completed, expired\n  createdAt        DateTime  @default(now())\n  completedAt      DateTime? // Date de finalisation de l'inscription\n\n  affiliateToken AffiliateToken @relation(fields: [affiliateTokenId], references: [id])\n  affiliateUser  User           @relation(\"AffiliateUser\", fields: [affiliateUserId], references: [id])\n  referredUser   User           @relation(\"ReferredUser\", fields: [referredUserId], references: [id])\n}\n\n/// Lien de tracking pour compter les clics sur les liens partag√©s\nmodel TrackingLink {\n  id             String    @id @default(auto()) @map(\"_id\") @db.ObjectId\n  token          String    @unique // Token de 6 caract√®res (ex: \"a1b2c3\")\n  name           String? // Nom du lien (max 32 caract√®res)\n  originalUrl    String // URL originale compl√®te\n  shortUrl       String // URL courte g√©n√©r√©e (meeshy.me/l/<token>)\n  createdBy      String?   @db.ObjectId // Utilisateur qui a cr√©√© le lien (null si anonyme)\n  conversationId String?   @db.ObjectId // Conversation o√π le lien a √©t√© partag√©\n  messageId      String?   @db.ObjectId // Message contenant le lien\n  totalClicks    Int       @default(0) // Nombre total de clics\n  uniqueClicks   Int       @default(0) // Nombre de clics uniques (par IP/fingerprint)\n  isActive       Boolean   @default(true) // Le lien est-il actif\n  expiresAt      DateTime? // Date d'expiration (null = pas d'expiration)\n  createdAt      DateTime  @default(now())\n  updatedAt      DateTime  @updatedAt\n  lastClickedAt  DateTime? // Date du dernier clic\n\n  clicks  TrackingLinkClick[]\n  creator User?               @relation(\"TrackingLinkCreator\", fields: [createdBy], references: [id])\n}\n\n/// Clic sur un lien de tracking\nmodel TrackingLinkClick {\n  id                String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  trackingLinkId    String   @db.ObjectId\n  userId            String?  @db.ObjectId // Utilisateur connect√© qui a cliqu√© (null si anonyme)\n  anonymousId       String?  @db.ObjectId // Participant anonyme qui a cliqu√©\n  ipAddress         String? // Adresse IP du visiteur\n  country           String? // Pays d'origine\n  city              String? // Ville\n  region            String? // R√©gion\n  userAgent         String? // User agent du navigateur\n  browser           String? // Navigateur d√©tect√©\n  os                String? // Syst√®me d'exploitation\n  device            String? // Type d'appareil (mobile, desktop, tablet)\n  language          String? // Langue du navigateur\n  referrer          String? // Page d'origine\n  deviceFingerprint String? // Empreinte unique du device\n  clickedAt         DateTime @default(now())\n\n  trackingLink  TrackingLink          @relation(fields: [trackingLinkId], references: [id])\n  user          User?                 @relation(\"TrackingLinkClickUser\", fields: [userId], references: [id])\n  anonymousUser AnonymousParticipant? @relation(\"TrackingLinkClickAnonymous\", fields: [anonymousId], references: [id])\n}\n\n/// Journal d'audit des actions administratives\nmodel AdminAuditLog {\n  id        String   @id @default(auto()) @map(\"_id\") @db.ObjectId\n  /// ID de l'utilisateur affect√© par l'action\n  userId    String   @db.ObjectId\n  /// ID de l'administrateur qui a effectu√© l'action\n  adminId   String   @db.ObjectId\n  /// Type d'action (VIEW_USER, CREATE_USER, UPDATE_PROFILE, etc.)\n  action    String\n  /// Type d'entit√© affect√©e (User, Community, etc.)\n  entity    String   @default(\"User\")\n  /// ID de l'entit√© affect√©e\n  entityId  String\n  /// Changements effectu√©s (JSON stringifi√©)\n  changes   String?\n  /// M√©tadonn√©es suppl√©mentaires (JSON stringifi√©)\n  metadata  String?\n  /// Adresse IP de l'admin\n  ipAddress String?\n  /// User agent du navigateur\n  userAgent String?\n  /// Date de cr√©ation du log\n  createdAt DateTime @default(now())\n\n  @@index([adminId])\n  @@index([userId])\n  @@index([action])\n  @@index([createdAt])\n}\n\n/// Signalement de contenu inappropri√©\nmodel Report {\n  id               String    @id @default(auto()) @map(\"_id\") @db.ObjectId\n  /// Type de contenu signal√©: message, user, conversation, community\n  reportedType     String\n  /// ID de l'entit√© signal√©e\n  reportedEntityId String    @db.ObjectId\n  /// ID de l'utilisateur qui signale (null si anonyme)\n  reporterId       String?   @db.ObjectId\n  /// Nom de l'utilisateur anonyme qui signale\n  reporterName     String?\n  /// Type de signalement: spam, inappropriate, harassment, violence, hate_speech, other\n  reportType       String\n  /// Raison d√©taill√©e du signalement\n  reason           String?\n  /// Statut: pending, under_review, resolved, rejected, dismissed\n  status           String    @default(\"pending\")\n  /// ID du mod√©rateur qui traite le signalement\n  moderatorId      String?   @db.ObjectId\n  /// Notes du mod√©rateur\n  moderatorNotes   String?\n  /// Action prise: none, warning_sent, content_removed, user_suspended, user_banned\n  actionTaken      String?\n  /// Date de cr√©ation du signalement\n  createdAt        DateTime  @default(now())\n  /// Date de mise √† jour\n  updatedAt        DateTime  @updatedAt\n  /// Date de r√©solution\n  resolvedAt       DateTime?\n\n  @@index([reportedType])\n  @@index([reportedEntityId])\n  @@index([reporterId])\n  @@index([status])\n  @@index([reportType])\n  @@index([createdAt])\n  @@index([resolvedAt])\n}\n\n// ============================================\n// VIDEO CALLS FEATURE - PHASE 1A: P2P MVP\n// ============================================\n\n/// Call Session - Represents an active or completed video call\nmodel CallSession {\n  id             String       @id @default(auto()) @map(\"_id\") @db.ObjectId\n  conversationId String       @db.ObjectId\n  conversation   Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)\n\n  /// Call mode: p2p for 2 participants, sfu for 3+\n  mode CallMode @default(p2p)\n\n  /// Call status: initiated, ringing, active, ended\n  status CallStatus @default(initiated)\n\n  /// User who initiated the call\n  initiatorId String @db.ObjectId\n  initiator   User   @relation(\"CallInitiator\", fields: [initiatorId], references: [id])\n\n  /// Timestamps\n  startedAt  DateTime  @default(now())\n  answeredAt DateTime? // When first participant answered\n  endedAt    DateTime?\n  duration   Int? // Duration in seconds\n\n  /// Participants in this call\n  participants CallParticipant[]\n\n  /// Transcriptions (Phase 2A/2B)\n  transcriptions Transcription[]\n\n  /// Call metadata\n  metadata Json? // { maxParticipants, recordingEnabled, etc. }\n\n  /// Indexes\n  @@index([conversationId])\n  @@index([status])\n  @@index([startedAt])\n  @@map(\"call_sessions\")\n}\n\n/// Call Participant - Represents a user participating in a call\nmodel CallParticipant {\n  id            String      @id @default(auto()) @map(\"_id\") @db.ObjectId\n  callSessionId String      @db.ObjectId\n  callSession   CallSession @relation(fields: [callSessionId], references: [id], onDelete: Cascade)\n\n  /// Authenticated user (null for anonymous)\n  userId String? @db.ObjectId\n  user   User?   @relation(\"CallParticipants\", fields: [userId], references: [id])\n\n  /// Anonymous participant ID (from AnonymousParticipant model)\n  anonymousId String?\n\n  /// Participant role: initiator or participant\n  role ParticipantRole @default(participant)\n\n  /// Timestamps\n  joinedAt DateTime  @default(now())\n  leftAt   DateTime?\n\n  /// Media state\n  isAudioEnabled Boolean @default(true)\n  isVideoEnabled Boolean @default(true)\n\n  /// Connection quality metadata\n  connectionQuality Json? // { latency, packetLoss, bandwidth }\n\n  /// Indexes\n  @@index([callSessionId])\n  @@index([userId])\n  @@map(\"call_participants\")\n}\n\n/// Transcription - Phase 2A/2B (prepared for future)\n/// Stores transcriptions from client or server\nmodel Transcription {\n  id            String      @id @default(auto()) @map(\"_id\") @db.ObjectId\n  callSessionId String      @db.ObjectId\n  callSession   CallSession @relation(fields: [callSessionId], references: [id], onDelete: Cascade)\n\n  /// Participant who spoke\n  participantId String @db.ObjectId\n\n  /// Transcription source: client (Web Speech API/Whisper.js) or server (faster-whisper)\n  source TranscriptionSource\n\n  /// Transcribed text\n  text String\n\n  /// Original language detected/specified\n  language String\n\n  /// Confidence score (0-1)\n  confidence Float?\n\n  /// Timestamp in call (milliseconds from call start)\n  timestamp DateTime @default(now())\n  offsetMs  Int? // Offset from call start in milliseconds\n\n  /// Translations of this transcription (Phase 3)\n  translations TranslationCall[]\n\n  /// Indexes\n  @@index([callSessionId])\n  @@index([timestamp])\n  @@map(\"transcriptions\")\n}\n\n/// Translation - Phase 3 (prepared for future)\n/// Stores translations of transcriptions\nmodel TranslationCall {\n  id              String        @id @default(auto()) @map(\"_id\") @db.ObjectId\n  transcriptionId String        @db.ObjectId\n  transcription   Transcription @relation(fields: [transcriptionId], references: [id], onDelete: Cascade)\n\n  /// Target language code\n  targetLanguage String\n\n  /// Translated text\n  translatedText String\n\n  /// Translation confidence (0-1)\n  confidence Float?\n\n  /// Translation model used\n  model String? // e.g., \"gpt-4\", \"google-translate\", etc.\n\n  /// Cached translation\n  cached Boolean @default(false)\n\n  /// Timestamp\n  createdAt DateTime @default(now())\n\n  /// Indexes\n  @@index([transcriptionId])\n  @@map(\"translation_calls\")\n}\n\n/// Enums for video calls\n\nenum CallMode {\n  p2p // Peer-to-peer (2 participants)\n  sfu // Selective Forwarding Unit (3+ participants)\n}\n\nenum CallStatus {\n  initiated // Call created, waiting for participants\n  ringing // Ringing on remote participants\n  active // Call is active with participants\n  ended // Call has ended\n  missed // Call was not answered\n  rejected // Call was rejected by recipient\n}\n\nenum ParticipantRole {\n  initiator // User who started the call\n  participant // Regular participant\n}\n\nenum TranscriptionSource {\n  client // Client-side (Web Speech API or Whisper.js)\n  server // Server-side (faster-whisper)\n}\n\n/// User-specific conversation preferences (personal settings per conversation)\nmodel UserConversationPreferences {\n  id             String @id @default(auto()) @map(\"_id\") @db.ObjectId\n  userId         String @db.ObjectId\n  conversationId String @db.ObjectId\n\n  /// Pin conversation to top\n  isPinned Boolean @default(false)\n\n  /// Mute notifications for this conversation\n  isMuted Boolean @default(false)\n\n  /// Archive conversation (hide from main list)\n  isArchived Boolean @default(false)\n\n  /// Personal tags for this conversation\n  tags String[] @default([])\n\n  /// Assigned category ID\n  categoryId String? @db.ObjectId\n\n  /// Order within category (for manual sorting)\n  orderInCategory Int?\n\n  /// Custom display name override\n  customName String?\n\n  /// Emoji reaction on conversation\n  reaction String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  user         User                      @relation(fields: [userId], references: [id], onDelete: Cascade)\n  conversation Conversation              @relation(fields: [conversationId], references: [id], onDelete: Cascade)\n  category     UserConversationCategory? @relation(fields: [categoryId], references: [id], onDelete: SetNull)\n\n  @@unique([userId, conversationId])\n  @@index([userId])\n  @@index([conversationId])\n  @@index([categoryId])\n  @@map(\"user_conversation_preferences\")\n}\n\n/// User-defined categories for organizing conversations\nmodel UserConversationCategory {\n  id     String @id @default(auto()) @map(\"_id\") @db.ObjectId\n  userId String @db.ObjectId\n\n  /// Category name\n  name String\n\n  /// Color hex code (optional)\n  color String?\n\n  /// Icon name/emoji (optional)\n  icon String?\n\n  /// Display order\n  order Int @default(0)\n\n  /// Accordion expanded state\n  isExpanded Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  user          User                          @relation(fields: [userId], references: [id], onDelete: Cascade)\n  conversations UserConversationPreferences[]\n\n  @@index([userId])\n  @@index([userId, order])\n  @@map(\"user_conversation_categories\")\n}\n",
  "inlineSchemaHash": "613027ce3afcb51e16d1b33b55429da0b89bc0c6516f1a5cd90e3dec87a70714",
  "copyEngine": true
}
config.dirname = '/'

config.runtimeDataModel = JSON.parse("{\"models\":{\"User\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"username\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"firstName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lastName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"bio\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phoneNumber\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"password\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"displayName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"avatar\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isOnline\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"lastSeen\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lastActiveAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"systemLanguage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"regionalLanguage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customDestinationLanguage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"autoTranslateEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"translateToSystemLanguage\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"translateToRegionalLanguage\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"useCustomDestination\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"role\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"deactivatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"emailVerified\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"emailVerifiedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"phoneVerified\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"phoneVerifiedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"twoFactorEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"failedLoginAttempts\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lockedUntil\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lastPasswordChange\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deletedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"profileCompletionRate\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdCommunities\",\"kind\":\"object\",\"type\":\"Community\",\"relationName\":\"CommunityCreator\"},{\"name\":\"communityMemberships\",\"kind\":\"object\",\"type\":\"CommunityMember\",\"relationName\":\"CommunityMemberToUser\"},{\"name\":\"conversations\",\"kind\":\"object\",\"type\":\"ConversationMember\",\"relationName\":\"ConversationMemberToUser\"},{\"name\":\"conversationPreferences\",\"kind\":\"object\",\"type\":\"ConversationPreference\",\"relationName\":\"ConversationPreferenceToUser\"},{\"name\":\"createdShareLinks\",\"kind\":\"object\",\"type\":\"ConversationShareLink\",\"relationName\":\"ShareLinkCreator\"},{\"name\":\"receivedFriendRequests\",\"kind\":\"object\",\"type\":\"FriendRequest\",\"relationName\":\"FriendRequestReceiver\"},{\"name\":\"sentFriendRequests\",\"kind\":\"object\",\"type\":\"FriendRequest\",\"relationName\":\"FriendRequestSender\"},{\"name\":\"messageStatus\",\"kind\":\"object\",\"type\":\"MessageStatus\",\"relationName\":\"MessageStatusToUser\"},{\"name\":\"sentMessages\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"MessageSender\"},{\"name\":\"reactions\",\"kind\":\"object\",\"type\":\"Reaction\",\"relationName\":\"UserReactions\"},{\"name\":\"notifications\",\"kind\":\"object\",\"type\":\"Notification\",\"relationName\":\"NotificationToUser\"},{\"name\":\"typingIndicators\",\"kind\":\"object\",\"type\":\"TypingIndicator\",\"relationName\":\"TypingIndicatorToUser\"},{\"name\":\"preferences\",\"kind\":\"object\",\"type\":\"UserPreference\",\"relationName\":\"UserToUserPreference\"},{\"name\":\"stats\",\"kind\":\"object\",\"type\":\"UserStats\",\"relationName\":\"UserToUserStats\"},{\"name\":\"createdAffiliateTokens\",\"kind\":\"object\",\"type\":\"AffiliateToken\",\"relationName\":\"AffiliateTokenCreator\"},{\"name\":\"affiliateRelations\",\"kind\":\"object\",\"type\":\"AffiliateRelation\",\"relationName\":\"AffiliateUser\"},{\"name\":\"referredRelations\",\"kind\":\"object\",\"type\":\"AffiliateRelation\",\"relationName\":\"ReferredUser\"},{\"name\":\"createdTrackingLinks\",\"kind\":\"object\",\"type\":\"TrackingLink\",\"relationName\":\"TrackingLinkCreator\"},{\"name\":\"trackingLinkClicks\",\"kind\":\"object\",\"type\":\"TrackingLinkClick\",\"relationName\":\"TrackingLinkClickUser\"},{\"name\":\"initiatedCalls\",\"kind\":\"object\",\"type\":\"CallSession\",\"relationName\":\"CallInitiator\"},{\"name\":\"callParticipations\",\"kind\":\"object\",\"type\":\"CallParticipant\",\"relationName\":\"CallParticipants\"},{\"name\":\"conversationPrefs\",\"kind\":\"object\",\"type\":\"UserConversationPreferences\",\"relationName\":\"UserToUserConversationPreferences\"},{\"name\":\"conversationCategories\",\"kind\":\"object\",\"type\":\"UserConversationCategory\",\"relationName\":\"UserToUserConversationCategory\"}],\"dbName\":null},\"Conversation\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"identifier\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"image\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"avatar\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"communityId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isArchived\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"lastMessageAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"anonymousParticipants\",\"kind\":\"object\",\"type\":\"AnonymousParticipant\",\"relationName\":\"AnonymousParticipantToConversation\"},{\"name\":\"members\",\"kind\":\"object\",\"type\":\"ConversationMember\",\"relationName\":\"ConversationToConversationMember\"},{\"name\":\"preferences\",\"kind\":\"object\",\"type\":\"ConversationPreference\",\"relationName\":\"ConversationToConversationPreference\"},{\"name\":\"shareLinks\",\"kind\":\"object\",\"type\":\"ConversationShareLink\",\"relationName\":\"ConversationToConversationShareLink\"},{\"name\":\"community\",\"kind\":\"object\",\"type\":\"Community\",\"relationName\":\"CommunityToConversation\"},{\"name\":\"messages\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"ConversationToMessage\"},{\"name\":\"typingIndicators\",\"kind\":\"object\",\"type\":\"TypingIndicator\",\"relationName\":\"ConversationToTypingIndicator\"},{\"name\":\"callSessions\",\"kind\":\"object\",\"type\":\"CallSession\",\"relationName\":\"CallSessionToConversation\"},{\"name\":\"userPreferences\",\"kind\":\"object\",\"type\":\"UserConversationPreferences\",\"relationName\":\"ConversationToUserConversationPreferences\"}],\"dbName\":null},\"ConversationMember\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"role\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"canSendMessage\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"canSendFiles\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"canSendImages\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"canSendVideos\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"canSendAudios\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"canSendLocations\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"canSendLinks\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"joinedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"leftAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ConversationMemberToUser\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"ConversationToConversationMember\"}],\"dbName\":null},\"ConversationShareLink\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"linkId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"identifier\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"maxUses\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"currentUses\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"maxConcurrentUsers\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"currentConcurrentUsers\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"maxUniqueSessions\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"currentUniqueSessions\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"allowAnonymousMessages\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"allowAnonymousFiles\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"allowAnonymousImages\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"allowViewHistory\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"requireAccount\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"requireNickname\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"requireEmail\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"requireBirthday\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"allowedCountries\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"allowedLanguages\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"allowedIpRanges\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"anonymousParticipants\",\"kind\":\"object\",\"type\":\"AnonymousParticipant\",\"relationName\":\"ShareLinkParticipants\"},{\"name\":\"creator\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ShareLinkCreator\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"ConversationToConversationShareLink\"}],\"dbName\":null},\"AnonymousParticipant\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"shareLinkId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"firstName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lastName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"username\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"birthday\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"sessionToken\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"ipAddress\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"country\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"language\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"deviceFingerprint\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isOnline\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"lastActiveAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"canSendMessages\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"canSendFiles\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"canSendImages\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"joinedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lastSeenAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"leftAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"shareLink\",\"kind\":\"object\",\"type\":\"ConversationShareLink\",\"relationName\":\"ShareLinkParticipants\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"AnonymousParticipantToConversation\"},{\"name\":\"sentMessages\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"AnonymousMessageSender\"},{\"name\":\"reactions\",\"kind\":\"object\",\"type\":\"Reaction\",\"relationName\":\"AnonymousReactions\"},{\"name\":\"trackingLinkClicks\",\"kind\":\"object\",\"type\":\"TrackingLinkClick\",\"relationName\":\"TrackingLinkClickAnonymous\"}],\"dbName\":null},\"Message\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"senderId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"anonymousSenderId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"content\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"originalLanguage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"messageType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isEdited\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"editedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"isDeleted\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"replyToId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"status\",\"kind\":\"object\",\"type\":\"MessageStatus\",\"relationName\":\"MessageStatusMessage\"},{\"name\":\"statusResponses\",\"kind\":\"object\",\"type\":\"MessageStatus\",\"relationName\":\"MessageStatusResponse\"},{\"name\":\"translations\",\"kind\":\"object\",\"type\":\"MessageTranslation\",\"relationName\":\"MessageToMessageTranslation\"},{\"name\":\"attachments\",\"kind\":\"object\",\"type\":\"MessageAttachment\",\"relationName\":\"MessageToMessageAttachment\"},{\"name\":\"reactions\",\"kind\":\"object\",\"type\":\"Reaction\",\"relationName\":\"MessageReactions\"},{\"name\":\"replyTo\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"MessageReplies\"},{\"name\":\"replies\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"MessageReplies\"},{\"name\":\"anonymousSender\",\"kind\":\"object\",\"type\":\"AnonymousParticipant\",\"relationName\":\"AnonymousMessageSender\"},{\"name\":\"sender\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"MessageSender\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"ConversationToMessage\"}],\"dbName\":null},\"MessageTranslation\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"messageId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sourceLanguage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"targetLanguage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"translatedContent\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"translationModel\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"cacheKey\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"confidenceScore\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"message\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"MessageToMessageTranslation\"}],\"dbName\":null},\"MessageAttachment\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"messageId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"fileName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"originalName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"mimeType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"fileSize\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"filePath\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"fileUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"width\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"height\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"thumbnailPath\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"thumbnailUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"duration\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"bitrate\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sampleRate\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"codec\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"channels\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"uploadedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isAnonymous\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"metadata\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"message\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"MessageToMessageAttachment\"}],\"dbName\":null},\"MessageStatus\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"messageId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"receivedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"readAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"answer\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"MessageStatusToUser\"},{\"name\":\"message\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"MessageStatusMessage\"},{\"name\":\"response\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"MessageStatusResponse\"}],\"dbName\":null},\"Reaction\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"messageId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"anonymousUserId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"emoji\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"message\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"MessageReactions\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserReactions\"},{\"name\":\"anonymousUser\",\"kind\":\"object\",\"type\":\"AnonymousParticipant\",\"relationName\":\"AnonymousReactions\"}],\"dbName\":null},\"FriendRequest\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"senderId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"receiverId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"receiver\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"FriendRequestReceiver\"},{\"name\":\"sender\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"FriendRequestSender\"}],\"dbName\":null},\"TypingIndicator\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isTyping\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"TypingIndicatorToUser\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"ConversationToTypingIndicator\"}],\"dbName\":null},\"Notification\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"content\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"data\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"priority\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isRead\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"emailSent\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"pushSent\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"senderId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"senderUsername\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"senderAvatar\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"messagePreview\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"messageId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"callSessionId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"NotificationToUser\"}],\"dbName\":null},\"Community\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"identifier\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"avatar\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isPrivate\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"members\",\"kind\":\"object\",\"type\":\"CommunityMember\",\"relationName\":\"CommunityToCommunityMember\"},{\"name\":\"creator\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CommunityCreator\"},{\"name\":\"Conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"CommunityToConversation\"}],\"dbName\":null},\"CommunityMember\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"communityId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"joinedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"role\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CommunityMemberToUser\"},{\"name\":\"community\",\"kind\":\"object\",\"type\":\"Community\",\"relationName\":\"CommunityToCommunityMember\"}],\"dbName\":null},\"UserStats\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"messagesSent\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"messagesReceived\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"charactersTyped\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"imageMessagesSent\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"filesShared\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"conversationsJoined\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"communitiesCreated\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"friendsAdded\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"friendRequestsSent\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"translationsUsed\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"languagesDetected\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"autoTranslateTimeMinutes\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalOnlineTimeMinutes\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sessionCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lastActiveAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserToUserStats\"}],\"dbName\":null},\"UserPreference\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"key\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"value\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"valueType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserToUserPreference\"}],\"dbName\":null},\"ConversationPreference\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"key\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"value\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"valueType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ConversationPreferenceToUser\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"ConversationToConversationPreference\"}],\"dbName\":null},\"AffiliateToken\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"token\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"maxUses\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"currentUses\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"creator\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"AffiliateTokenCreator\"},{\"name\":\"affiliations\",\"kind\":\"object\",\"type\":\"AffiliateRelation\",\"relationName\":\"AffiliateRelationToAffiliateToken\"}],\"dbName\":null},\"AffiliateRelation\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"affiliateTokenId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"affiliateUserId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"referredUserId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"affiliateToken\",\"kind\":\"object\",\"type\":\"AffiliateToken\",\"relationName\":\"AffiliateRelationToAffiliateToken\"},{\"name\":\"affiliateUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"AffiliateUser\"},{\"name\":\"referredUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ReferredUser\"}],\"dbName\":null},\"TrackingLink\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"token\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"originalUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"shortUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"messageId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"totalClicks\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"uniqueClicks\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lastClickedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"clicks\",\"kind\":\"object\",\"type\":\"TrackingLinkClick\",\"relationName\":\"TrackingLinkToTrackingLinkClick\"},{\"name\":\"creator\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"TrackingLinkCreator\"}],\"dbName\":null},\"TrackingLinkClick\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"trackingLinkId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"anonymousId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"ipAddress\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"country\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"city\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"region\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userAgent\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"browser\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"os\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"device\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"language\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"referrer\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"deviceFingerprint\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"clickedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"trackingLink\",\"kind\":\"object\",\"type\":\"TrackingLink\",\"relationName\":\"TrackingLinkToTrackingLinkClick\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"TrackingLinkClickUser\"},{\"name\":\"anonymousUser\",\"kind\":\"object\",\"type\":\"AnonymousParticipant\",\"relationName\":\"TrackingLinkClickAnonymous\"}],\"dbName\":null},\"AdminAuditLog\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"adminId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"action\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"entity\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"entityId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"changes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"metadata\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"ipAddress\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userAgent\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Report\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"reportedType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reportedEntityId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reporterId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reporterName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reportType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"moderatorId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"moderatorNotes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"actionTaken\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"resolvedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"CallSession\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"CallSessionToConversation\"},{\"name\":\"mode\",\"kind\":\"enum\",\"type\":\"CallMode\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"CallStatus\"},{\"name\":\"initiatorId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"initiator\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CallInitiator\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"answeredAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"endedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"duration\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"participants\",\"kind\":\"object\",\"type\":\"CallParticipant\",\"relationName\":\"CallParticipantToCallSession\"},{\"name\":\"transcriptions\",\"kind\":\"object\",\"type\":\"Transcription\",\"relationName\":\"CallSessionToTranscription\"},{\"name\":\"metadata\",\"kind\":\"scalar\",\"type\":\"Json\"}],\"dbName\":\"call_sessions\"},\"CallParticipant\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"callSessionId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"callSession\",\"kind\":\"object\",\"type\":\"CallSession\",\"relationName\":\"CallParticipantToCallSession\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CallParticipants\"},{\"name\":\"anonymousId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"role\",\"kind\":\"enum\",\"type\":\"ParticipantRole\"},{\"name\":\"joinedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"leftAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"isAudioEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isVideoEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"connectionQuality\",\"kind\":\"scalar\",\"type\":\"Json\"}],\"dbName\":\"call_participants\"},\"Transcription\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"callSessionId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"callSession\",\"kind\":\"object\",\"type\":\"CallSession\",\"relationName\":\"CallSessionToTranscription\"},{\"name\":\"participantId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"source\",\"kind\":\"enum\",\"type\":\"TranscriptionSource\"},{\"name\":\"text\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"language\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"confidence\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"timestamp\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"offsetMs\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"translations\",\"kind\":\"object\",\"type\":\"TranslationCall\",\"relationName\":\"TranscriptionToTranslationCall\"}],\"dbName\":\"transcriptions\"},\"TranslationCall\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"transcriptionId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"transcription\",\"kind\":\"object\",\"type\":\"Transcription\",\"relationName\":\"TranscriptionToTranslationCall\"},{\"name\":\"targetLanguage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"translatedText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"confidence\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"model\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"cached\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"translation_calls\"},\"UserConversationPreferences\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conversationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isPinned\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isMuted\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isArchived\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"tags\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"categoryId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"orderInCategory\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reaction\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserToUserConversationPreferences\"},{\"name\":\"conversation\",\"kind\":\"object\",\"type\":\"Conversation\",\"relationName\":\"ConversationToUserConversationPreferences\"},{\"name\":\"category\",\"kind\":\"object\",\"type\":\"UserConversationCategory\",\"relationName\":\"UserConversationCategoryToUserConversationPreferences\"}],\"dbName\":\"user_conversation_preferences\"},\"UserConversationCategory\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\",\"dbName\":\"_id\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"color\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"icon\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"order\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isExpanded\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserToUserConversationCategory\"},{\"name\":\"conversations\",\"kind\":\"object\",\"type\":\"UserConversationPreferences\",\"relationName\":\"UserConversationCategoryToUserConversationPreferences\"}],\"dbName\":\"user_conversation_categories\"}},\"enums\":{},\"types\":{}}")
defineDmmfProperty(exports.Prisma, config.runtimeDataModel)
config.engineWasm = {
  getRuntime: async () => require('./query_engine_bg.js'),
  getQueryEngineWasmModule: async () => {
    const loader = (await import('#wasm-engine-loader')).default
    const engine = (await loader).default
    return engine
  }
}
config.compilerWasm = undefined

config.injectableEdgeEnv = () => ({
  parsed: {
    DATABASE_URL: typeof globalThis !== 'undefined' && globalThis['DATABASE_URL'] || typeof process !== 'undefined' && process.env && process.env.DATABASE_URL || undefined
  }
})

if (typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined) {
  Debug.enable(typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined)
}

const PrismaClient = getPrismaClient(config)
exports.PrismaClient = PrismaClient
Object.assign(exports, Prisma)

