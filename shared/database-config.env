# Database Configuration for Meeshy
# Choose your database type: MONGODB or POSTGRESQL

# Database Type Selection
# Valid values: MONGODB, POSTGRESQL
DATABASE_TYPE=MONGODB

# MongoDB Configuration
MONGODB_URL=mongodb://meeshy:MeeshyPassword123@mongodb:27017/meeshy?authSource=admin
MONGODB_DATABASE=meeshy
MONGODB_USER=meeshy
MONGODB_PASSWORD=MeeshyPassword123

# PostgreSQL Configuration
POSTGRESQL_URL=postgresql://meeshy:MeeshyPassword123@postgresql:5432/meeshy
POSTGRESQL_DATABASE=meeshy
POSTGRESQL_USER=meeshy
POSTGRESQL_PASSWORD=MeeshyPassword123
POSTGRESQL_HOST=postgresql
POSTGRESQL_PORT=5432

# Prisma Configuration
PRISMA_DATABASE_URL=${MONGODB_URL}
PRISMA_SCHEMA_PATH=./shared/schema.prisma

# Environment-specific overrides
# For MongoDB deployment
if [ "$DATABASE_TYPE" = "MONGODB" ]; then
    export PRISMA_DATABASE_URL="$MONGODB_URL"
    export PRISMA_SCHEMA_PATH="./shared/schema.prisma"
fi

# For PostgreSQL deployment
if [ "$DATABASE_TYPE" = "POSTGRESQL" ]; then
    export PRISMA_DATABASE_URL="$POSTGRESQL_URL"
    export PRISMA_SCHEMA_PATH="./shared/schema.postgresql.prisma"
fi
