# Configuration du service de traduction Meeshy
# Copier ce fichier vers .env et ajuster les valeurs

# Configuration générale
DEBUG=false
WORKERS=4

# Configuration des ports
FASTAPI_PORT=8000
GRPC_PORT=50051
ZMQ_PORT=5555

# Configuration base de données
DATABASE_URL=file:../shared/dev.db
PRISMA_POOL_SIZE=15

# Configuration Redis (cache)
REDIS_URL=redis://localhost:6379
TRANSLATION_CACHE_TTL=3600
CACHE_MAX_ENTRIES=10000

# Configuration ML
ML_BATCH_SIZE=32
GPU_MEMORY_FRACTION=0.8

# Configuration du cache des modèles
MODELS_PATH=models

# Configuration des langues
DEFAULT_LANGUAGE=fr
SUPPORTED_LANGUAGES=fr,en,es,de,pt,zh,ja,ar
AUTO_DETECT_LANGUAGE=true

# Configuration des modèles de traduction
BASIC_MODEL=t5-small
MEDIUM_MODEL=facebook/nllb-200-distilled-600M
PREMIUM_MODEL=facebook/nllb-200-distilled-1.3B

# Configuration des performances et timeouts
TRANSLATION_TIMEOUT=15
MAX_TEXT_LENGTH=1000
CONCURRENT_TRANSLATIONS=10

# Configuration des timeouts pour le chargement des modèles
MODEL_LOAD_TIMEOUT=60
TOKENIZER_LOAD_TIMEOUT=300
HUGGINGFACE_TIMEOUT=120

# Configuration des workers de traduction
TRANSLATION_WORKERS=50

# Configuration de la quantification
QUANTIZATION_LEVEL=float16

# Configuration des retries pour le téléchargement des modèles
MODEL_DOWNLOAD_MAX_RETRIES=3
MODEL_DOWNLOAD_TIMEOUT=300
MODEL_DOWNLOAD_CONSECUTIVE_TIMEOUTS=3
