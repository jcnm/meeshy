[0;32m‚úÖ [TRA] Chargement des variables depuis .env[0m
  - DEBUG=true
  - WORKERS=4
  - FASTAPI_PORT=8000
  - GRPC_PORT=50051
  - ZMQ_PORT=5555
  - DATABASE_URL=postgresql://meeshy:MeeshyP%40ssword@127.0.0.1:5432/meeshy
  - PRISMA_POOL_SIZE=15
  - REDIS_URL=memory://
  - TRANSLATION_CACHE_TTL=3600
  - CACHE_MAX_ENTRIES=10000
  - ML_BATCH_SIZE=32
  - GPU_MEMORY_FRACTION=0.8
  - MODELS_PATH=models
  - DEFAULT_LANGUAGE=fr
  - SUPPORTED_LANGUAGES=fr,en,es,de,pt,zh,ja,ar
  - AUTO_DETECT_LANGUAGE=true
  - BASIC_MODEL=nllb-200-distilled-600M
  - MEDIUM_MODEL=nllb-200-distilled-600M
  - PREMIUM_MODEL=nllb-200-distilled-1.3B
  - TRANSLATION_TIMEOUT=30
  - MAX_TEXT_LENGTH=1000
  - CONCURRENT_TRANSLATIONS=10
[0;34müêç [TRA] D√©marrage du translator Python Meeshy[0m
=================================================
[0;32m‚úÖ [TRA] Python version: Python 3.13.5[0m
[0;34müìä [TRA] Configuration charg√©e:[0m
   Port: 8000
   Environment: development
   Database: postgresql://meeshy:MeeshyP%40ssword@127.0.0.1:5432/meeshy
   Redis: memory://
   Cache: memory
[0;32müöÄ [TRA] D√©marrage du translator int√©gr√© (FastAPI + ZMQ)...[0m
   Utilisez Ctrl+C pour arr√™ter
=================================================
2025-08-11 08:43:12,189 - __main__ - INFO - üåü D√©marrage Meeshy Translation Service
2025-08-11 08:43:12,189 - __main__ - INFO - ü§ñ Initialisation du serveur de traduction Meeshy...
2025-08-11 08:43:12,189 - services.translation_service - INFO - ü§ñ D√©marrage du service de traduction ML...
2025-08-11 08:43:12,189 - services.translation_service - WARNING - ‚ö†Ô∏è  Service de traduction initialis√© sans connexion √† la base de donn√©es
2025-08-11 08:43:12,189 - services.translation_service - INFO - üñ•Ô∏è Utilisation du CPU
2025-08-11 08:43:12,189 - services.translation_service - INFO - ÔøΩ Chargement de TOUS les mod√®les: ['t5-small', 'nllb-200-distilled-600M', 'nllb-200-distilled-1.3B']
2025-08-11 08:43:12,189 - services.translation_service - INFO - üóÇÔ∏è Chemin des mod√®les configur√©: /Users/smpceo/Downloads/Meeshy/meeshy/translator/models
2025-08-11 08:43:12,189 - services.translation_service - INFO - üìÅ V√©rification du r√©pertoire: /Users/smpceo/Downloads/Meeshy/meeshy/translator/models
2025-08-11 08:43:12,189 - services.translation_service - INFO - ÔøΩ Espace suffisant pour NLLB-1.3B: 95.5GB libres
2025-08-11 08:43:12,189 - services.translation_service - INFO - ‚è≥ Chargement du mod√®le t5-small...
2025-08-11 08:43:12,189 - services.translation_service - INFO - üìÅ Utilisation du mod√®le local: /Users/smpceo/Downloads/Meeshy/meeshy/translator/models/t5-small
2025-08-11 08:43:12,189 - services.translation_service - INFO - üîß Cr√©ation du pipeline T5 pour t5-small...
Device set to use cpu
2025-08-11 08:43:12,306 - services.translation_service - INFO - ‚úÖ Pipeline t5 cr√©√© pour t5-small
2025-08-11 08:43:12,306 - services.translation_service - INFO - ‚úÖ Mod√®le t5-small charg√©
2025-08-11 08:43:12,306 - services.translation_service - INFO - ‚è≥ Chargement du mod√®le nllb-200-distilled-600M...
2025-08-11 08:43:12,306 - services.translation_service - INFO - üìÅ Utilisation du mod√®le local: /Users/smpceo/Downloads/Meeshy/meeshy/translator/models/nllb-200-distilled-600M
2025-08-11 08:43:12,306 - services.translation_service - INFO - üîß Cr√©ation du pipeline NLLB pour nllb-200-distilled-600M...
Device set to use cpu
2025-08-11 08:43:12,830 - services.translation_service - INFO - ‚úÖ Pipeline nllb cr√©√© pour nllb-200-distilled-600M
2025-08-11 08:43:12,830 - services.translation_service - INFO - ‚úÖ Mod√®le nllb-200-distilled-600M charg√©
2025-08-11 08:43:12,830 - services.translation_service - INFO - ‚è≥ Chargement du mod√®le nllb-200-distilled-1.3B...
2025-08-11 08:43:12,830 - services.translation_service - INFO - üìÅ Utilisation du mod√®le local: /Users/smpceo/Downloads/Meeshy/meeshy/translator/models/nllb-200-distilled-1.3B
2025-08-11 08:43:12,830 - services.translation_service - INFO - üîß Cr√©ation du pipeline NLLB pour nllb-200-distilled-1.3B...
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|‚ñà‚ñà‚ñà‚ñà‚ñà     | 1/2 [00:00<00:00,  8.31it/s]Loading checkpoint shards: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 2/2 [00:00<00:00, 15.83it/s]
Device set to use cpu
2025-08-11 08:43:13,506 - services.translation_service - INFO - ‚úÖ Pipeline nllb cr√©√© pour nllb-200-distilled-1.3B
2025-08-11 08:43:13,506 - services.translation_service - INFO - ‚úÖ Mod√®le nllb-200-distilled-1.3B charg√©
2025-08-11 08:43:13,506 - services.translation_service - INFO - ‚úÖ Service de traduction ML initialis√©
2025-08-11 08:43:13,506 - __main__ - INFO - ‚úÖ Service de traduction initialis√©
2025-08-11 08:43:13,506 - __main__ - INFO - ‚úÖ Serveur ZMQ configur√© sur port 5555
2025-08-11 08:43:13,508 - __main__ - INFO - ‚úÖ API FastAPI configur√©e
2025-08-11 08:43:13,508 - __main__ - INFO - üöÄ D√©marrage du serveur Meeshy Translation...
2025-08-11 08:43:13,508 - services.translation_service - INFO - üîÑ D√âBUT TRADUCTION ML (Pipeline):
2025-08-11 08:43:13,508 - services.translation_service - INFO -    üìù Texte: 'Hello Meeshy'
2025-08-11 08:43:13,508 - services.translation_service - INFO -    üåê en ‚Üí fr
2025-08-11 08:43:13,508 - services.translation_service - INFO -    ü§ñ Type de mod√®le demand√©: basic
2025-08-11 08:43:13,508 - services.translation_service - INFO -    üéØ Mod√®le 'basic' demand√© ‚Üí T5-small (12 chars)
2025-08-11 08:43:13,509 - services.translation_service - INFO - üéØ S√©lection du mod√®le pour type: t5-small
2025-08-11 08:43:13,509 - services.translation_service - INFO - üìä Mod√®les disponibles dans pipelines: ['t5-small', 'nllb-200-distilled-600M', 'nllb-200-distilled-1.3B']
2025-08-11 08:43:13,509 - services.translation_service - INFO - ‚öôÔ∏è Settings: basic=nllb-200-distilled-600M, medium=nllb-200-distilled-600M, premium=nllb-200-distilled-1.3B
2025-08-11 08:43:13,509 - services.translation_service - INFO - ‚úÖ Mod√®le direct trouv√©: t5-small
2025-08-11 08:43:13,509 - services.translation_service - INFO -    üéØ Mod√®le s√©lectionn√©: t5-small
2025-08-11 08:43:13,509 - services.translation_service - INFO -    üìä Config mod√®le: type=t5, max_length=512
2025-08-11 08:43:13,509 - services.translation_service - INFO -    ‚öôÔ∏è Param√®tres pipeline: {'max_new_tokens': 32, 'num_beams': 4, 'do_sample': False, 'early_stopping': True, 'repetition_penalty': 1.1, 'length_penalty': 1.0}
2025-08-11 08:43:13,509 - services.translation_service - INFO -    üìù Instruction T5 explicite: 'translate English to French: Hello Meeshy'
2025-08-11 08:43:13,509 - services.translation_service - INFO -    ‚öôÔ∏è Param√®tres T5: {'max_new_tokens': 32, 'num_beams': 4, 'do_sample': False, 'early_stopping': True, 'pad_token_id': 1, 'temperature': 1.0, 'repetition_penalty': 1.2}
2025-08-11 08:43:13,610 - services.translation_service - INFO -    üì§ T5 r√©sultat nettoy√©: 'Bonjour Meeshy'
2025-08-11 08:43:13,610 - services.translation_service - INFO -    ‚úÖ TRADUCTION FINALE: 'Bonjour Meeshy'
2025-08-11 08:43:13,610 - __main__ - INFO - üß™ Test de traduction: {'translated_text': 'Bonjour Meeshy', 'source_language': 'en', 'target_language': 'fr', 'model_used': 't5-small', 'confidence': 0.9, 'cache_key': None, 'processing_time': 0.10207366943359375, 'from_cache': False}
2025-08-11 08:43:13,611 - __main__ - INFO - üöÄ D√©marrage du serveur FastAPI...
2025-08-11 08:43:13,611 - __main__ - INFO - ‚úÖ Serveur FastAPI d√©marr√© en arri√®re-plan
2025-08-11 08:43:13,611 - __main__ - INFO - ‚úÖ Serveur Meeshy Translation pr√™t
2025-08-11 08:43:13,612 - __main__ - INFO - üìç REST API: http://0.0.0.0:8000
2025-08-11 08:43:13,612 - __main__ - INFO - üìç ZMQ Server: tcp://0.0.0.0:5555
2025-08-11 08:43:13,612 - __main__ - INFO - üîå D√©marrage du serveur ZMQ...
2025-08-11 08:43:13,612 - services.zmq_server - INFO - üîå D√©marrage serveur ZMQ sur port 5555
2025-08-11 08:43:13,613 - services.zmq_server - ERROR - ‚ùå Erreur serveur ZMQ: Address already in use (addr='tcp://*:5555')
2025-08-11 08:43:13,613 - services.zmq_server - INFO - üõë Arr√™t du serveur ZMQ...
2025-08-11 08:43:13,613 - services.zmq_server - INFO - ‚úÖ Serveur ZMQ arr√™t√©
INFO:     Started server process [45705]
INFO:     Waiting for application startup.
2025-08-11 08:43:13,635 - api.translation_api - INFO - üöÄ API FastAPI d√©marr√©e
INFO:     Application startup complete.
ERROR:    [Errno 48] error while attempting to bind on address ('0.0.0.0', 8000): address already in use
INFO:     Waiting for application shutdown.
2025-08-11 08:43:13,635 - api.translation_api - INFO - üõë API FastAPI arr√™t√©e
INFO:     Application shutdown complete.
[0;32m‚úÖ [TRA] Translator d√©marr√© avec succ√®s (PID: 45705)[0m
[0;34müåê [TRA] API disponible sur http://localhost:8000[0m
[1;33müí° [TRA] Endpoints disponibles:[0m
   GET  /health              - Status du service
   POST /translate           - Traduction de texte
   POST /detect-language     - D√©tection de langue
   GET  /docs               - Documentation API
