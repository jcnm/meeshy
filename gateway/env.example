# Configuration du service Gateway Meeshy
# Copiez ce fichier vers .env et ajustez les valeurs selon votre environnement

# =============================================================================
# CONFIGURATION GÉNÉRALE
# =============================================================================
NODE_ENV=production
DEBUG=false
LOG_LEVEL=info

# =============================================================================
# CONFIGURATION DES PORTS
# =============================================================================
# Ports pour le service Gateway
FASTIFY_PORT=3000
FASTIFY_HOST=0.0.0.0
GATEWAY_PORT=3000

# =============================================================================
# CONFIGURATION BASE DE DONNÉES
# =============================================================================
DATABASE_URL=file:../shared/dev.db

# =============================================================================
# CONFIGURATION REDIS
# =============================================================================
REDIS_URL=redis://localhost:6379

# =============================================================================
# CONFIGURATION JWT ET SÉCURITÉ
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12

# =============================================================================
# CONFIGURATION WEBSOCKET
# =============================================================================
WS_MAX_CONNECTIONS=100000
WS_PING_INTERVAL=30000

# =============================================================================
# CONFIGURATION RATE LIMITING
# =============================================================================
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=60000

# =============================================================================
# CONFIGURATION CORS
# =============================================================================
# Origines autorisées pour CORS (séparées par des virgules)
CORS_ORIGINS=http://localhost:3100,http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3100,http://localhost:3000

# =============================================================================
# CONFIGURATION FRONTEND
# =============================================================================
# URL du frontend pour les liens d'invitation
FRONTEND_URL=http://localhost:3100

# =============================================================================
# CONFIGURATION TRANSLATOR (GRPC)
# =============================================================================
# Configuration gRPC pour le service de traduction
GRPC_TRANSLATION_HOST=translator
GRPC_TRANSLATION_PORT=50051
TRANSLATOR_GRPC_URL=translator:50051

# =============================================================================
# CONFIGURATION TRANSLATOR (ZMQ)
# =============================================================================
# Configuration ZMQ pour le service de traduction
# Host du service Translator
ZMQ_TRANSLATOR_HOST=translator

# Ports ZMQ pour la communication avec le Translator
ZMQ_TRANSLATOR_PUSH_PORT=5555    # Port où Gateway PUSH connect (Translator PULL bind)
ZMQ_TRANSLATOR_SUB_PORT=5558     # Port où Gateway SUB connect (Translator PUB bind)
ZMQ_TRANSLATOR_PORT=5555         # Port legacy pour compatibilité

# Timeout pour les connexions ZMQ (en millisecondes)
ZMQ_TIMEOUT=30000

# =============================================================================
# CONFIGURATION PYTHON ET PNPM
# =============================================================================
# Configuration PNPM
PNPM_HOME=/pnpm
NPM_CONFIG_CACHE=/tmp/.npm
YARN_CACHE_FOLDER=/tmp/.yarn

# =============================================================================
# CONFIGURATION DES CHEMINS
# =============================================================================
# Chemins pour les logs
LOG_DIR=logs

# =============================================================================
# CONFIGURATION DÉVELOPPEMENT
# =============================================================================
# Variables spécifiques au développement
# NODE_ENV=development
# DEBUG=true
# LOG_LEVEL=debug
